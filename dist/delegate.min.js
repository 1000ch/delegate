!function(a){"use strict";function b(a){this.parents=[],a.nodeType?this.parents.push(a):"number"==typeof a.length&&(this.parents=l.call(a,function(a){return a.nodeType}))}function c(a,b){return k.call(a,function(a){return a[b]})}function d(a,b){b=b||i;var c=j.exec(a);return c?c[1]?[i.getElementById(c[1])]:c[2]?b.getElementsByTagName(c[2]):c[3]?b.getElementsByClassName(c[3]):[]:i.querySelectorAll(a)}function e(a,b,c){var e=function(e){var f=d(b,a);m.call(f,function(a){0===a.compareDocumentPosition(e.target)&&c.call(a,e)})};return e}function f(a,b,d,f){a.eventStore||(a.eventStore={}),a.eventStore.hasOwnProperty(b)||(a.eventStore[b]=[]);var g=e(a,d,f),h=c(a.eventStore[b],"closure");-1===h.indexOf(g)&&a.eventStore[b].push({selector:d,callback:f,closure:g}),a.addEventListener(b,g)}function g(a,b,d,e){var f,g,h,i;a.eventStore&&(b&&d&&e?(f=a.eventStore[b],g=c(f,"callback"),i=g.indexOf(e),i>-1&&(a.removeEventListener(b,f[i].closure),a.eventStore[b].splice(i,1))):b&&d&&!e?(f=a.eventStore[b],h=c(f,"selector"),i=h.indexOf(d),i>-1&&(a.removeEventListener(b,f[i].closure),a.eventStore[b].splice(i,1))):!b||d||e?Object.keys(a.eventStore).forEach(function(b){f=a.eventStore[b],m.call(f,function(c){a.removeEventListener(b,c.closure)}),delete a.eventStore[b]}):(f=a.eventStore[b],m.call(f,function(c){a.removeEventListener(b,c.closure)}),delete a.eventStore[b]))}var h=a,i=h.document,j=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,k=Array.prototype.map,l=Array.prototype.filter,m=Array.prototype.forEach;b.prototype.on=function(a,b,c){for(var d=this.parents,e=0,g=d.length;g>e;e++)f(d[e],a,b,c)},b.prototype.off=function(a,b,c){for(var d=this.parents,e=0,f=d.length;f>e;e++)g(d[e],a,b,c)},h.Delegate=b}(window);